<!doctype html>
<html>
  <head>
    <title>Realtime Chat</title>
    {% csrf_token %}
    <meta name="csrf-token" content="{{ csrf_token }}">
  </head>
  <body>
    <h1>Realtime Chat</h1>

    <input type="hidden" id="csrf-token" value="{{ csrf_token }}">

    <ul id="messages"></ul>
    <input id="username" placeholder="Username" />
    <input id="message" placeholder="Type message..." />
    <button id="send">Send</button>

    <script>
      const csrftoken = document.getElementById("csrf-token").value;

      // Example: if you ever need to make a POST request
      async function sendHttpMessage(msg) {
        await fetch("/some-endpoint/", {
          method: "POST",
          headers: {
            "Content-Type": "application/json",
            "X-CSRFToken": csrftoken
          },
          body: JSON.stringify({ message: msg })
        });
      }
    </script>
  </body>
</html>
